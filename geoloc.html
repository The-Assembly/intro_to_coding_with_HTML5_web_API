<html>
	<head>
		<title>Geolocation</title>
	</head>
	<body>
		<!-- Paragraph to display the user's current location -->
		<p id="location"></p>

		<p id="map"></p>
	</body>
	<script>
		// Get current position
		navigator.geolocation.getCurrentPosition(function(pos){
			// Display the latitude and longitude on the paragraph
			var latlong = pos.coords.latitude + "," + pos.coords.longitude;
			document.getElementById('location').innerHTML = latlong;

			var img_url = "http://maps.googleapis.com/maps/api/staticmap?center=" + latlong + "&zoom=14&size=400x300&sensor=false";
			document.getElementById("map").innerHTML = "<img src='" + img_url + "'>";
		});
		
		// Check for change in position
		id = navigator.geolocation.watchPosition(
					// On success
					function(pos){
						// Do something when the location is changed
						console.log('Changed');
					},
					
					// On error
					function(){
						console.log('Error');
					}
				);
	</script>
</html>
